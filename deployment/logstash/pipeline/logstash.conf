input {
  kafka {
    codec => json
    bootstrap_servers => "pd-kafka:9093"
    topics => ["PropagandaDetector.Messages.Processed"]
  }
}

filter {
  mutate {
    remove_field => ["@version", "@timestamp"]
  }
}

output {
  stdout {  
    codec => json_lines  
  } 

  elasticsearch {
    hosts => ["pd-elasticsearch:9200"]
    index => "propaganda"
    document_id => "%{id}"
  }
}
